---

- block:
  - name: Install ZSH
    become: yes
    package: name=zsh state=present

- block:
  - name: Setup zsh as default shell
    become: yes
    user: 
      name: adrian
      shell: /usr/bin/zsh
    when: ansible_os_family == 'Debian'
  - name: Setup zsh as default shell
    become: yes
    user: 
      name: adrian
      shell: /bin/zsh
    when: ansible_os_family == 'Darwin'

- block:
  - name: Install starship zsh prompt
    become: yes
    snap: 
      name: starship
      state: present
    when: ansible_os_family == 'Debian'
  - name: Install starship zsh prompt
    package: 
      name: starship
      state: present
    when: ansible_os_family == 'Darwin'
